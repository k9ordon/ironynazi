<head>
    <title>ironynazi</title>
    <meta name="viewport" content="user-scalable=no, width=device-width, minimum-scale=1.0, maximum-scale=1.0" />
</head>

<body>
    {{> layout}}
</body>

<template name="layout">
    <div class="layout">
        {{> createForm}}
        {{> uploadedList}}
        {{> ironyList}}
    </div>
</template>

<template name="createForm">
    <form class="createForm" name="create">

        <input name="file" type="file" id="file" class="createForm__fileInput" size="50" accept="iamge/*">
        <label for="file" class="createForm__fileLabel">Choose an image</label>

        <input type="text" class="createForm__textInput" placeholder="TYPE SOME WORDS">

        <button type="submit" class="createForm__submitButton">Feel the irony</button>
    </form>
</template>

<template name="uploadedList">
    <div class="uploadedList">
        {{#each items}}
            {{> uploadedListItem}}
        {{/each}}
    </div>
</template>
<template name="uploadedListItem">
    {{#if uploading}}
        <div class="uploadedListItem">
            uploading ... {{percent_uploaded}}
        </div>
    {{else}}
        {{#unless response.url}}
            <div class="uploadedListItem">
                processing ...
            </div>
        {{/unless}}
    {{/if}}
</template>

<template name="ironyList">
    <div class="ironyList">
        <h3 class="ironyList__header">Latest</h3>
        {{#each latest}}
            {{> ironyListItem}}
        {{/each}}
    </div>
</template>
<template name="ironyListItem">
        <div class="ironyListItem">
            {{#if cloudinary.url}}
                <img class="ironyListItem__img" src="{{ cloudinary.url }}" />
                <pre class="ironyListItem__pre">{{ cloudinary.url }}</pre>
            {{else}}
                <div class="ironyListItem__upload">
                    loading ...
                </div>
            {{/if}}
        </div>
</template>
